{"ast":null,"code":"var _jsxFileName = \"/Users/qbi82/VSCode/test/integra_v2/integra_v2/client/src/pages/Dashboard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Line } from 'react-chartjs-2';\nimport { Chart as ChartJS, CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend } from 'chart.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend);\nconst regionNames = {\n  '060000000000': 'Mazowieckie',\n  '020000000000': 'Dolnośląskie',\n  '000000000000': 'Polska'\n};\nconst Dashboard = () => {\n  _s();\n  var _housingRegion$data, _housingRegion$data$r, _housingRegion$data2, _housingRegion$data2$, _interest$data, _interest$data$result;\n  const [data, setData] = useState(null);\n  const [err, setErr] = useState('');\n  const [selectedRegion, setSelectedRegion] = useState('060000000000');\n  useEffect(() => {\n    fetch('http://localhost:4000/api/bdl-data').then(res => res.json()).then(setData).catch(() => setErr('Błąd pobierania danych z serwera'));\n  }, []);\n  if (err) return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      color: 'red'\n    },\n    children: err\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 19\n  }, this);\n  if (!data) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"\\u0141adowanie danych...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 21\n  }, this);\n\n  // Filtruj dane dla wybranego regionu\n  const housingRegion = data.housing.find(r => r.regionId === selectedRegion);\n  const interest = data.interest[0]; // Polska ogółem\n\n  // Przygotuj dane do wykresów\n  const years = (housingRegion === null || housingRegion === void 0 ? void 0 : (_housingRegion$data = housingRegion.data) === null || _housingRegion$data === void 0 ? void 0 : (_housingRegion$data$r = _housingRegion$data.results) === null || _housingRegion$data$r === void 0 ? void 0 : _housingRegion$data$r.map(r => r.year)) || [];\n  const housingValues = (housingRegion === null || housingRegion === void 0 ? void 0 : (_housingRegion$data2 = housingRegion.data) === null || _housingRegion$data2 === void 0 ? void 0 : (_housingRegion$data2$ = _housingRegion$data2.results) === null || _housingRegion$data2$ === void 0 ? void 0 : _housingRegion$data2$.map(r => {\n    var _r$values$;\n    return (_r$values$ = r.values[0]) === null || _r$values$ === void 0 ? void 0 : _r$values$.val;\n  })) || [];\n  const interestValues = (interest === null || interest === void 0 ? void 0 : (_interest$data = interest.data) === null || _interest$data === void 0 ? void 0 : (_interest$data$result = _interest$data.results) === null || _interest$data$result === void 0 ? void 0 : _interest$data$result.map(r => {\n    var _r$values$2;\n    return (_r$values$2 = r.values[0]) === null || _r$values$2 === void 0 ? void 0 : _r$values$2.val;\n  })) || [];\n  const housingChartData = {\n    labels: years,\n    datasets: [{\n      label: `Ceny mieszkań (${regionNames[selectedRegion]})`,\n      data: housingValues,\n      borderColor: 'blue',\n      backgroundColor: 'rgba(0,0,255,0.1)'\n    }]\n  };\n  const interestChartData = {\n    labels: years,\n    datasets: [{\n      label: 'Stopy procentowe (Polska)',\n      data: interestValues,\n      borderColor: 'green',\n      backgroundColor: 'rgba(0,255,0,0.1)'\n    }]\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Panel u\\u017Cytkownika\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Jeste\\u015B zalogowany!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Dane z BDL\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Wybierz region:\\xA0\", /*#__PURE__*/_jsxDEV(\"select\", {\n          value: selectedRegion,\n          onChange: e => setSelectedRegion(e.target.value),\n          children: data.housing.map(r => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: r.regionId,\n            children: regionNames[r.regionId] || r.regionId\n          }, r.regionId, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        maxWidth: 700,\n        margin: '2rem auto'\n      },\n      children: /*#__PURE__*/_jsxDEV(Line, {\n        data: housingChartData,\n        options: {\n          responsive: true,\n          plugins: {\n            legend: {\n              position: 'top'\n            }\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        maxWidth: 700,\n        margin: '2rem auto'\n      },\n      children: /*#__PURE__*/_jsxDEV(Line, {\n        data: interestChartData,\n        options: {\n          responsive: true,\n          plugins: {\n            legend: {\n              position: 'top'\n            }\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"O7RupBn9mZShcxgfZ6VEqyjmgnI=\");\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useEffect","useState","Line","Chart","ChartJS","CategoryScale","LinearScale","PointElement","LineElement","Title","Tooltip","Legend","jsxDEV","_jsxDEV","register","regionNames","Dashboard","_s","_housingRegion$data","_housingRegion$data$r","_housingRegion$data2","_housingRegion$data2$","_interest$data","_interest$data$result","data","setData","err","setErr","selectedRegion","setSelectedRegion","fetch","then","res","json","catch","style","color","children","fileName","_jsxFileName","lineNumber","columnNumber","housingRegion","housing","find","r","regionId","interest","years","results","map","year","housingValues","_r$values$","values","val","interestValues","_r$values$2","housingChartData","labels","datasets","label","borderColor","backgroundColor","interestChartData","value","onChange","e","target","maxWidth","margin","options","responsive","plugins","legend","position","_c","$RefreshReg$"],"sources":["/Users/qbi82/VSCode/test/integra_v2/integra_v2/client/src/pages/Dashboard.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Line } from 'react-chartjs-2';\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend,\n} from 'chart.js';\n\nChartJS.register(CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend);\n\nconst regionNames = {\n  '060000000000': 'Mazowieckie',\n  '020000000000': 'Dolnośląskie',\n  '000000000000': 'Polska',\n};\n\nconst Dashboard = () => {\n  const [data, setData] = useState(null);\n  const [err, setErr] = useState('');\n  const [selectedRegion, setSelectedRegion] = useState('060000000000');\n\n  useEffect(() => {\n    fetch('http://localhost:4000/api/bdl-data')\n      .then(res => res.json())\n      .then(setData)\n      .catch(() => setErr('Błąd pobierania danych z serwera'));\n  }, []);\n\n  if (err) return <div style={{ color: 'red' }}>{err}</div>;\n  if (!data) return <div>Ładowanie danych...</div>;\n\n  // Filtruj dane dla wybranego regionu\n  const housingRegion = data.housing.find(r => r.regionId === selectedRegion);\n  const interest = data.interest[0]; // Polska ogółem\n\n  // Przygotuj dane do wykresów\n  const years = housingRegion?.data?.results?.map(r => r.year) || [];\n  const housingValues = housingRegion?.data?.results?.map(r => r.values[0]?.val) || [];\n  const interestValues = interest?.data?.results?.map(r => r.values[0]?.val) || [];\n\n  const housingChartData = {\n    labels: years,\n    datasets: [\n      {\n        label: `Ceny mieszkań (${regionNames[selectedRegion]})`,\n        data: housingValues,\n        borderColor: 'blue',\n        backgroundColor: 'rgba(0,0,255,0.1)',\n      },\n    ],\n  };\n\n  const interestChartData = {\n    labels: years,\n    datasets: [\n      {\n        label: 'Stopy procentowe (Polska)',\n        data: interestValues,\n        borderColor: 'green',\n        backgroundColor: 'rgba(0,255,0,0.1)',\n      },\n    ],\n  };\n\n  return (\n    <div>\n      <h1>Panel użytkownika</h1>\n      <p>Jesteś zalogowany!</p>\n      <h2>Dane z BDL</h2>\n      <div>\n        <label>Wybierz region:&nbsp;\n          <select value={selectedRegion} onChange={e => setSelectedRegion(e.target.value)}>\n            {data.housing.map(r => (\n              <option key={r.regionId} value={r.regionId}>\n                {regionNames[r.regionId] || r.regionId}\n              </option>\n            ))}\n          </select>\n        </label>\n      </div>\n      <div style={{ maxWidth: 700, margin: '2rem auto' }}>\n        <Line data={housingChartData} options={{ responsive: true, plugins: { legend: { position: 'top' } } }} />\n      </div>\n      <div style={{ maxWidth: 700, margin: '2rem auto' }}>\n        <Line data={interestChartData} options={{ responsive: true, plugins: { legend: { position: 'top' } } }} />\n      </div>\n    </div>\n  );\n};\n\nexport default Dashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}